<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <!-- displays site properly based on user's device -->

    <link href="./images/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

    <link href="styles.css" rel="stylesheet">

    <title>Frontend Mentor | Intro component with sign up form</title>
</head>
<body>

<div class="container flex mt-10 sm-flex-column sm-mt-5">
    <div class="pitch">
        <h1 class="pitch-heading">Learn to code by watching others</h1>

        <p class="pitch-content">
            See how experienced developers solve problems in real-time. Watching scripted
            tutorials is great, but understanding how developers think is invaluable.
        </p>
    </div>

    <div class="signup">
        <div class="pricing">
            <span class="pricing--emphasis">Try it free 7 days</span> then $20/mo. thereafter
        </div>


        <form action="#">
            <div class="input">
                <input name="first_name" placeholder="First Name" type="text"/>
                <svg height="24" width="24" xmlns="http://www.w3.org/2000/svg">
                    <g fill="none" fill-rule="evenodd">
                        <circle cx="12" cy="12" fill="#FF7979" r="12"/>
                        <rect fill="#FFF" height="9" rx="1" width="2" x="11" y="6"/>
                        <rect fill="#FFF" height="2" rx="1" width="2" x="11" y="17"/>
                    </g>
                </svg>
                <div class="error-message">
                    First Name cannot be empty
                </div>
            </div>
            <div class="input">
                <input name="last_name" placeholder="Last Name" type="text"/>
                <svg height="24" width="24" xmlns="http://www.w3.org/2000/svg">
                    <g fill="none" fill-rule="evenodd">
                        <circle cx="12" cy="12" fill="#FF7979" r="12"/>
                        <rect fill="#FFF" height="9" rx="1" width="2" x="11" y="6"/>
                        <rect fill="#FFF" height="2" rx="1" width="2" x="11" y="17"/>
                    </g>
                </svg>
                <div class="error-message">
                    Last Name cannot be empty
                </div>
            </div>
            <div class="input">
                <input name="email" placeholder="Email Address" type="text"/>
                <svg height="24" width="24" xmlns="http://www.w3.org/2000/svg">
                    <g fill="none" fill-rule="evenodd">
                        <circle cx="12" cy="12" fill="#FF7979" r="12"/>
                        <rect fill="#FFF" height="9" rx="1" width="2" x="11" y="6"/>
                        <rect fill="#FFF" height="2" rx="1" width="2" x="11" y="17"/>
                    </g>
                </svg>
                <div class="error-message">
                    Looks like this is not an email
                </div>
            </div>
            <div class="input">
                <input name="password" placeholder="Password" type="password"/>
                <svg height="24" width="24" xmlns="http://www.w3.org/2000/svg">
                    <g fill="none" fill-rule="evenodd">
                        <circle cx="12" cy="12" fill="#FF7979" r="12"/>
                        <rect fill="#FFF" height="9" rx="1" width="2" x="11" y="6"/>
                        <rect fill="#FFF" height="2" rx="1" width="2" x="11" y="17"/>
                    </g>
                </svg>
                <div class="error-message">
                    Password cannot be empty
                </div>
            </div>

            <button type="submit">Claim your free trial</button>

            <p class="tos">
                By clicking the button, you are agreeing to our <a href="#">Terms and Services</a>
            </p>
        </form>
    </div>
</div>

<script>
    const submitButton = document.querySelector('button');

    function validate() {
        const firstName = document.querySelector('input[name=first_name]');
        const lastName = document.querySelector('input[name=last_name]');
        const email = document.querySelector('input[name=email]');
        const password = document.querySelector('input[type=password]');

        const required = [firstName, lastName, password];
        required.forEach(input => {
            if (input.value === '') {
                input.parentElement.classList.add('error');
            } else {
                input.parentElement.classList.remove('error');
            }
        })

        if (/\w+@\w+\.\w{2,3}/.test(email.value) === false) {
            email.parentElement.classList.add('error');
        } else {
            email.parentElement.classList.remove('error');
        }
    }

    submitButton.addEventListener('click', (evt) => {
        evt.preventDefault();
        validate();
    })
</script>
</body>
</html>
